# Exploit Potential Calculation

- [Web3.py](https://web3py.readthedocs.io/en/v5/)  to query on chain data
- [Subgrounds](https://github.com/Protean-Labs/subgrounds) to query beanstalk subgraph

simple python program to calculate assets at risk. 

1. Obtain list of farmers interacted with beanstalk (silo, field, barn) 
2. Find whether they approved the following assets for beanstalk use: 
  
  - BEAN
  - BEAN3CRV
  - DAI
  - USDC
  - USDT 
  - 3CRV
  - urBEAN
  - urBEAN3CRV
 
3. If they have approved, query the `balanceOf()` of each asset. 
4. Sum up all values to find total value at risk. 

## installation
`pip install json, pandas, subgrounds, web3`

### Note: best to use a forked RPC at block 15970150, rather than the currrent block to have a more accurate calculation of assets at stake. 
